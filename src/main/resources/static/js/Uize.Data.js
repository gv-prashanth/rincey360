/*
	UIZE JAVASCRIPT FRAMEWORK 2010-07-13

	http://www.uize.com/reference/Uize.Data.html
	Available under MIT License or GNU General Public License -- http://www.uize.com/license.html
*/
Uize.module({name:'Uize.Data',builder:function(){var _a=function(){},_b='string',_c=true,_d=false,_e=null;var _f={};_a.getColumn=function(_g,_h,_i){var _j=[];if(_g){var _k=_i?{}:_e;for(var _l= -1,_m=_g.length;++_l<_m;){var _n=_g[_l][_h];if(!_i||(!_k[_n]&&(_k[_n]=1)))_j.push(_n);}}return _j;};_a.findRecords=function(_o,_p){var _q=[];if(_o){for(var _r= -1,_s=_o.length,_t;++_r<_s;)Uize.recordMatches(_t=_o[_r],_p)&&_q.push(_t);}return _q;};_a.getKeys=function(_u){var _j=[];if(typeof _u!=_b)for(var _v in _u)_j.push(_v);return _j;};_a.getTotalKeys=function(_u){var _j=0;if(typeof _u!=_b)for(var _v in _u)_j++;return _j;};_a.getLookup=function(_w,_x){var _y={};if(arguments.length==1)_x=_c;for(var _z= -1,_A=_w.length;++_z<_A;)_y[_w[_z]]=_x;return _y;};_a.getReverseLookup=function(_u){var _y={};if(typeof _u!=_b)for(var _v in _u)_y[_u[_v]+'']=_v;return _y;};_a.getValues=function(_u){if(Uize.isArray(_u))return _u;var _j=[];if(typeof _u!=_b)for(var _v in _u)_j.push(_u[_v]);return _j;};_a.isEmpty=function(_u){
if(_u&&typeof _u=='object'&&_u.constructor!=_f.constructor)_u=_u.valueOf();if(!_u)return _c;if(Uize.isArray(_u))return!_u.length;if(typeof _u=='object'){for(var _v in _u)return _d;return _c;}return!_u;};_a.filter=function(_u,_B){var _C=this,_j={};if(_u&&_B){for(var _D= -1,_E=_B.length;++_D<_E;){var _F=_B[_D];if(_F in _u)_j[_F]=_u[_F];}}return _j;};_a.identical=function(_G,_H,_I){if(!_I)_I=_f;var _J=_I.equality,_K=_J=='loose',_L= !_K&&_J!='type',_M=_I.allowConjoined!==_d;function _N(_G,_H){var _O,_P=typeof _G,_Q=_P==typeof _H,_R=_P=='object';if(_Q&&_R&&_G&&_H){if(_G==_H){_O=_M;}else if(_O=_G.constructor==_H.constructor){if(_G instanceof Date){_O= +_G== +_H;}else if(_O=(typeof _G.length!='number'||_G.length===_H.length)&&_a.getTotalKeys(_G)==_a.getTotalKeys(_H)){for(var _F in _G){if(!(_F in _H)|| !_N(_G[_F],_H[_F])){_O=_d;break;}}}}}else{_O=(_K?_G==_H:(_Q&&(_L?_G===_H:(!_R|| !_G== !_H))))||(_Q&&_P=='number'&&isNaN(_G)&&isNaN(_H));}return _O;}return _N(_G,_H);};_a.conjoined=function(_G,_H){function _S(_u){
var _T=[];function _U(_u){if(typeof _u=='object'){if(!Uize.isIn(_T,_u)){_T.push(_u);for(var _F in _u)_U(_u[_F]);}}}_U(_u);return _T;}var _V=_d,_W=_S(_G),_X=_W.length,_Y=_S(_H);for(var _Z= -1;++_Z<_X&& !_V;)_V=Uize.isIn(_Y,_W[_Z]);return _V;};_a.clones=function(_G,_H){return(_a.identical(_G,_H,{allowConjoined:_d})&& !_a.conjoined(_G,_H));};_a.intersection=function(_G,_H){var _j={};if(_G&&_H){for(var _F in _G){var _0=_G[_F];if(_H[_F]===_0)_j[_F]=_0;}}return _j;};_a.map=function(_1,_2,_3){if(typeof _2=='number'){_2=new Array(_2);if(typeof _3!='object')_3=_2;}var _4=Uize.isArray(_2);if(typeof _3!='object')_3=_3?_2:_4?[]:{};if(typeof _1==_b)_1=new Function('value','key','return '+_1);function _5(_v){var _6=_1.call(_2,_2[_v],_v);if(_3)_3[_v]=_6;}if(_4){for(var _7= -1,_8=_2.length;++_7<_8;)_5(_7);}else{for(var _v in _2)_5(_v);}return _3;};_a.min=function(_u){return Math.min.apply(0,_a.getValues(_u));};_a.max=function(_u){return Math.max.apply(0,_a.getValues(_u));};_a.reorderArray=function(_2,_9,_3){
if(typeof _3!='object')_3=_3===_d?_2:[];if(_3!=_2)_3.length=0;if(_9=='inside out'||_9=='outside in'){if(_3==_2)_2=_2.concat();for(var _ba=0,_bb=_2.length-1,_bc=_bb>>1,_bd=_9=='inside out',_7=_bd?_bc+1: -1;_bd? --_7>=0: ++_7<=_bc;){_3[_ba++]=_2[_7];if(_7!=_bb-_7)_3[_ba++]=_2[_bb-_7];}}else{if(_3!=_2)Array.prototype.push.apply(_3,_2);if(_9!='normal')_9=='reverse'?_3.reverse():_3.sort(function(){return Math.random()*2-1});}return _3;};return _a;}});